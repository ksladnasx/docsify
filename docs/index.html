<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Docsify + docsify-latex</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify/lib/themes/vue.css">
  <link rel="stylesheet" href="media/custom.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css">
</head>

<body>
  <div id="app"></div>
  <div id="theme-toggle-btn" style="position:fixed;top:20px;right:30px;z-index:999;"></div>
  <script src="media/theme-toggle.js"></script>

  <!-- 核心Docsify库 -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>

  <!-- 搜索功能实现 -->
  <script>
    window.$docsify = {
      name: '',
      repo: '',
      loadSidebar: true,          // 启用侧边栏
      subMaxLevel: 3,             // 子菜单最大层级（建议2~4）
      coverpage: true,
      auto2top: true,
      sidebarDisplayLevel: 1,     // 初始展开层级（1=仅展开一级目录）
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md' // 统一侧边栏路径（可选）
      },

      // 搜索配置 [1,2,4](@ref)
      search: {
        maxAge: 86400000,      // 缓存有效期(ms)，默认1天
        paths: 'auto',          // 自动检测所有文档路径
        placeholder: '输入关键词搜索', // 搜索框提示文本
        noData: '未找到相关内容',  // 无结果提示
        depth: 3,               // 搜索标题层级(h1-h3)
        namespace: 'docs',      // 本地存储命名空间
        hideOtherSidebarContent: false // 保持侧边栏完整
      },

      //一键复制插件的配置
      copyCode: {
        buttonText: {
          '/zh-cn/': '复制', // 中文环境
          '/': 'Copy to clipboard' // 默认英文
        },
        successText: {
          '/zh-cn/': '已复制',
          '/': 'Copied!'
        },
        errorText: '复制失败' // 错误提示
      },

    

      // 以插件的形式导入代码样式
      plugins: [
        function (hook) {
          hook.doneEach(function () {
            // 确保DOM更新后执行高亮
            setTimeout(() => hljs.highlightAll(), 0)
          })
        }
      ]
    };
  </script>

  <!-- 侧边栏折叠插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/docsify-sidebar-collapse.min.js"></script>

  <!-- 必需：搜索插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>

  <!-- 流程图支持 -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

  <!-- LaTeX数学公式支持 -->
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-latex@0"></script>

  <!-- 引入一键复制插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>

  <!-- 多种代码颜色样式支持 -->
  <!-- 替换默认高亮库为 Highlight.js -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- 添加 TypeScript 语法支持 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>

  <style>
    /* 搜索框样式优化 */
    .search input {
      border-radius: 4px;
      padding: 8px 12px;
      border: 1px solid #ddd;
      box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);

    }

    /* 搜索结果高亮 */
    mark {
      background: #fffd38;
      color: #000;
    }

    /* 一键复制按钮样式 */
    /* 基础按钮样式 */
    .docsify-copy-code-button {
      /* 尺寸与定位 */
      position: absolute;
      top: 8px !important;
      right: 8px !important;
      width: 45px;
      height: 26px;
      font-size: small;
      padding: 0 !important;
      background-color: transparent;
      /* 形状与边框 */
      border-radius: 3px;
      border: 1px solid #42b98355;
      /* 半透明绿色边框 */
      color: black;
      /* 交互控制 */
      opacity: 0.7;
      /* 平滑过渡 */
      cursor: pointer;
      /* 去除阴影 */
      box-shadow: none !important;

    }

    /* 悬停效果 */
    .docsify-copy-code-button:hover {
      opacity: 1;
      background-color: #42b98344 !important;
      /* 轻微放大 */
      transform: scale(1.08);
      border-color: #42b983;
    }

    /* 点击反馈 */
    .docsify-copy-code-button:active {
      transform: scale(0.95);
      /* 按压效果 */
      background-color: #42b98366;
    }

    /* 文字背景去除 */
    .docsify-copy-code-button .label {
      background-color: transparent !important;
    }
  </style>
</body>

</html>